version: '3.8'
services:
  app:
    build: ./app
    container_name: mcp_llm_app
    volumes:
      - ./app:/app
    environment:
      - OLLAMA_HOST=host.docker.internal:11434
      - MCP_HOST=mcp
      - MCP_PORT=3000
    ports:
      - "8000:8000"
    depends_on:
      - mcp

  mcp:
    build: ./mcp_server
    container_name: mcp_filesystem
    volumes:
      - ./mcp_server/data:/data
    ports:
      - "3000:3000"
    environment:
      - DATA_DIR=/data
